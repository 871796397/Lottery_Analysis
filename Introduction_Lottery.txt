彩票真的有规律吗？
对于彩票的分析，网上可谓汗牛充栋，数不胜数。
众人也是莫衷一是，褒少贬多。有许多文章从统计学上讲，中大奖是极低的概率，数据说话，自然是让人信服。
但架不住几千万到上亿的人买彩票，人数上来了，极低概率的大奖自然也总能出现。
这是个巨大的诱惑，一旦买了彩票，人们立刻在两三天内滋生巨大的希望。
当然希望破灭之日也是开奖日，同时也是下一个希望建立日。

终其原因，彩票对于个体来说，基本上是给社会做福利，同时获取某种希望。
诚然，两元钱的希望很不靠谱，就跟泡沫一样。
但它是商品，也算是一种消费吧。
量少即可，切勿沉醉。

最近自学python编程，正好将这个数据用来练手，顺便分析分析彩票是否真有规律

我选取体彩超级大乐透作为练手对象
介绍一下该彩票：起始于2007年5月30日，以7001为第一期。每周一，三，五开奖。
截止我爬取数据时间2019年12月25日，为19148期，一共开奖了1930次。

选号规则：“35选5加12选2”即前面5个数字从1-35里面选，后面2个数字从1-12里面选
5和2两个区域里的数字不能重复。但5区和2区的数字可以重复

我将思路及结果呈现如下：
这里要说明一下，后面其实有许多图和分析都只是说明同一个问题，有点重复分析。

一、项目思路
1、分析目的
1.1、找到彩票七个号码的数字分布规律――哪些号码出现的概率最大
1.2、找到第1、2等奖中奖注数与中奖数字的关系――中奖注数越多，出现哪些数字越多
1.3、找到奖池余额与销售额、中1,2等奖注数的关系
1.4、中奖注数和时间的关系
1.5、试图找出某种规律

2、分析工具
2.1、使用pycharm编辑器 编写python程序
2.2、爬取数据用ruquests、pandas库
2.3、分析数据用pandas、numpy库
2.4、制图呈现用matplotlib 库

3、获取数据
3.1、数据源：中国体彩网 超级大乐透（http://www.lottery.gov.cn/historykj/history_1.jspx?_ltype=dlt）
    找到页码数量以及网址可变部分：97页，可变部分为history_{1}.jspx? 中间的数字1，1代表页码1，依次类推
3.2、使用ruquests 和pandas 快速抓取往期所有的彩票信息，可以一次性抓取存于csv、exlx或sql中，等待分析
    使用for 循环 页码，一页一页使用requests.get抓取页面内容，
    然后用pd.read_html(res)[0] 快速读取网页表格。

3.3、也可以边抓取边处理好数据，再存于csv、exlx或sql中
      原始数据可能会出现乱列名，需要重新赋予新列名，并将空值的列删除，甚至还可以进行列列加减乘除，生成新列。

二、图表分析
1、号码的数字分布规律：
1.1、中奖号码数字的数量和出现的频数，用柱状图呈现
一号号码可以选1-30数字，出现概率最高的数字依次是：1、3、2
由可选区间可知，前5个号历史还没有出现过31、32、33、34、35，这组数字不用购买
二号号码可以选2-32数字，出现概率最高的数字依次是：9、11、10
三号号码可以选3-33数字，出现概率最高的数字依次是：19、22、20
四号号码可以选4-34数字，出现概率最高的数字依次是：29、30、32
五号号码可以选11-35数字，出现概率最高的数字依次是：35、34、33
由此区间可知，前5个号历史上还没有同时出现过1-10之间的数字，前五个号凡是同时有这个区间里的数字，不应购买
六号号码可以选1-11数字，出现概率最高的数字依次是：1、2、3
六号号码可以选2-12数字，出现概率最高的数字依次是：12、10、11

1.2、中奖号码加总值的频数，使用直方图呈现
1-7个号码加总值符合正态分布，如果选择的号码加总值在90-125之间，概率稍微高些，上面出现概率数字加总都在这个区间中。
1-5个选号码加总值在80-110之间比较好
6-7个选号码加总值在11-15之间比好
后面两个区间加起来刚好是前面的区间。

1.3、高概率出现的号码数字，其临近号码出现数字的概率，
当1号号码最高频数是1，其他号码最高频数依次是：2号：2，3号：13，4号：32，5号：35，6号：3，7号：12
当2号号码最高频数是9，其他号码最高频数依次是：1号：1，3号：11，4号：30，5号：35，6号：2，7号：12
当3号号码最高频数是19，其他号码最高频数依次是：1号：7，2号：17，4号：25，5号：35，6号：2，7号：12
当4号号码最高频数是29，其他号码最高频数依次是：1号：2，2号：22，3号：28，5号：32，6号：2，7号：11
当5号号码最高频数是35，其他号码最高频数依次是：1号：1，2号：11，3号：19，4号：34，6号：1，7号：10
当6号号码最高频数是1，其他号码最高频数依次是：1号：3，2号：12，3号：19，4号：30，5号：35，7号：2
当7号号码最高频数是12，其他号码最高频数依次是：1号：1，2号：9，3号：19，4号：30，5号：34，6号：7
1-5号数字 基本上和上面分析一致，最高概率的数字可以同时出现。唯有6-7号的数字出现异常，
该异常说明这两个数字的两个最高概率数字1和12同时出现的概率反而降低了。选这两个号码时应该避免。

1.4、临近号码差值(大号码-小号码)的分布，用柱状图呈现
所有号码差值最高的都是1-3，说明一组合号码中，数字全部间隔大的，出现概率比较低。
正常选号时候，除了选择搞概率数字外，适当选取两三个数字靠得比较近的

2、中奖注数与中奖号码的关系：
2.1、第1、2等奖中奖注数出现的频数，用柱状图呈现
一等奖的未中的最多，达四分之一之多，中1-4注一共有二分之一，剩下的四分之一就是中4以上的注数
二等奖没有空奖，大部分都是中100注以下。中的注数越多，中奖数量越少。

2.2、高频数的中奖注数与中奖号码的关系，用柱状呈现
一等奖中奖注数大于10注的情况下三个最高数字依次是：一号：1、3、5，二号：12、9、6，三号：22、20、19，四号：33、32、29
五号：35、30、33，六号：3、1、5，七号：10、9、12
二等奖中奖注数大于100注的情况下三个最高数字依次是：一号：3、5、1，二号：9、7、11，三号：19、18、20，四号：27、23、28
五号：35、33、30，六号：3、4、1，七号：11、12、10

2.3、高频数注数后三期中奖号码分布情况，用直方图呈现
一等奖中奖注数大于10注的情况下后三期三个最高数字依次是：
一号：2、3、1，二号：12、11、9，三号：20、19、18，四号：26、32、29
五号：35、34、33，六号：2、1、3，七号：12、9、11

3、中奖注数和单注奖金、奖池金额与销售金额的关系
3.1、奖池金额与销售金额额的关系，用折线图和散点图呈现
通过折线图可知：奖池在2019年初前，一直在增长，但之后开始下降，而销售额一直在增长

通过散点图可知：奖池在3500百万元平台附近时，出现一个销售金额处于稳定的上升期。
令人奇怪的是，在奖池金额渐渐高企时，销售变化不大，但是奖池金额下降时，
销售金额反而上升，这个上升期基本发生在2019年。
不知道其他彩票，是不是也有类似情况，抽空也分析对比一下。

3.2、一等奖中奖注数和单注奖金(万元)，用散点图呈现
很显然，中奖注数越多，单注奖金越低，特别是注数在5以下，单注奖金差别极大，达到百万元差距，
特别是某个单注一等奖，最高的竟达到850多万元。而最少的单注奖金只有1万左右

3.3、二等奖中奖注数和单注奖金(万元)，用散点图呈现
二等奖单注奖金大部分分布在500到1万元之间，且还是中奖注数在100注以下的
中奖注数在100注以上的，单注奖金基本上都是1000元以下。
最高单注金额也有135万之多，最低单注金额只有100元。


4、中奖注数和时间的关系：
4.1、中奖注数和时间的关系，用折线图呈现
根据图表发现：一等奖的注数变化比较平稳，基本上在10注以下，但处于上升中，由平均2注到现在平均5注左右。
而二等奖注数由平均15注左右上升到现在150注左右
我们会发现需要尖锐的高峰，那是中奖注数突然超出异常的表现，都是一期同时中几百注。
甚至最高的16150期，一等奖达到125注，二等奖达到3034注，当然单注奖金少的可怜。

4.2、中奖号码加总值与时间的关系，用折线图呈现
该图显示了七个号码加总值又减少的趋势，但密集区间基本上和上面加总值频数一直，也是出于90-125之间，但目前该值区间似乎减都80-115之间了

4.3、每个号码数字与时间的关系，使用折线图呈现
抱歉，七个号码搞一张图上，成了鬼画符，于是我一张张拆分。
一号号码的数字密集区大概在2-8之间
二号号码的数字密集区大概在8-18之间
三年号号码的数字密集区大概在14-24之间
四号号码的数字密集区大概在22-32之间，但有下降趋势，目前在18-28之间
五号号码的数字密集区大概在28-35之间
六号号码的数字密集区大概在2-8之间
七号号码的数字密集区大概在6-12之间

三、我的结论
1、中奖注数在增加，说明单注奖金在减少；
2、销售金额在增加，而奖池金额反而在减少，再次证明中奖概率在上升，中奖的人多了，
尽管单注奖金在减少，但中奖总额是在增加，奖池自然就减少了。
3、中奖的七个号码的加总值绝大部分在90-125之间
4、选号号码密集区间：除了第1、6、7号的数字的密集区比较独立，2，3，4，5号数字的密集区出现重合。且每个号码的高概率数字都落在相应的区间里。
5、选号号码前后数值差：中奖号码，都有两三数字靠得比较近的，间隔在1-3之间。
6、综合以上：筛选几个大概率号码组合：1,9,19,34,35,1,12   2,11,22,30,33,2,11   1,10,19,32,35,1,12
你也可以根据上面的规律，在高概率数字中进行数值组合。

以上分析仅供参考，不应成为大肆买彩票的依据。
单个数字概率高，不代表组合一定概率也高，组合的概率是该几个数字出现概率相乘，
最后也中大奖的概率也只提升一百多倍，由以前的几亿分之一，提升到百万分之一。
但是，单个数字出现密集区间还在变化中，说明这个规律，随着时间在变化，这些数字过几年可能就不管用了。

四、python代码




